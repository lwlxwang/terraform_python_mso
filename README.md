### Introduction

Small python script that will parse a variable file in YAML format and will create the corresponding Terraform files for Cisco MSO. It also creates the corresponding outputs, ready to be used.

### Run the Python script

In order to run the script do the following:

```
git clone https://github.com/wiwa1978/terraform_python_mso.git
```
Next, run the main.py script using one of the following methods:

1) One Terraform file (--no-split option)
```
python3 main.py --no-split --variable-file variables_python.yml  
```
The generated Terraform files will be located in the `terraform_files` directory as one single Terraform file (e.g main.tf) with a corresponding output file (e.g. output.tf)

1) Seperate Terraform files (--split option)
```
python3 main.py --split --variable-file variables_pythonyml  
```
The generated Terraform files will be located in the `terraform_files` directory. It will generate multiple terraform files per MSO resource. It also includes the corresponding output file (e.g. output.tf)

### Run Terraform

Once the files have been generated by the Python script, copy the files from the terraform_files directory to your project. Then run the following commands to execute:

- terraform init
- terraform plan -parallelism=1
- terraform apply -parallelism=1